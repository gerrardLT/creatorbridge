# 🎨 前端 UI 可视化参考

## 一、衍生作品注册 - 完整界面流程

### 流程 1：从市场浏览页进入

```
┌─────────────────────────────────────────────────────────────┐
│  MARKETPLACE - /explore                                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐│
│  │ ✓ ON-CHAIN  💎 │  │ ✓ ON-CHAIN  💎 │  │ ✓ ON-CHAIN  💎 ││
│  │                │  │                │  │                ││
│  │  [IP 图片]     │  │  [IP 图片]     │  │  [IP 图片]     ││
│  │                │  │                │  │                ││
│  │  AI Portrait   │  │  Digital Art   │  │  Photo Work    ││
│  │  by Alice      │  │  by Bob        │  │  by Carol      ││
│  │  👤 Alice      │  │  👤 Bob        │  │  👤 Carol      ││
│  │         0.1 WIP│  │         0.2 WIP│  │         FREE   ││
│  │   +10% rev share│  │                │  │                ││
│  └────────────────┘  └────────────────┘  └────────────────┘│
│        │                                                    │
│        │ 点击 IP 卡片                                       │
│        ▼                                                    │
└─────────────────────────────────────────────────────────────┘
```

---

### 流程 2：IP 详情页

```
┌─────────────────────────────────────────────────────────────┐
│  IP DETAIL - /ip/:id                                        │
├─────────────────────────────────────────────────────────────┤
│  ← Back to Explore                                          │
│                                                             │
│  ┌───────────────────────┐  ┌──────────────────────────┐   │
│  │                       │  │  AI Portrait             │   │
│  │   [大图预览]          │  │  by Alice Chen           │   │
│  │                       │  │  💎 Commercial Remix     │   │
│  │                       │  │  💰 0.1 WIP              │   │
│  │                       │  │  📊 10% revenue share    │   │
│  └───────────────────────┘  │                          │   │
│                              │  ✓ Allows derivatives   │   │
│                              │  🌿 Create Derivative ◄─────┐│
│                              └──────────────────────────┘ │ │
│                                                           │ │
│  💰 Royalty Information       [ ✓ On-Chain Data ]        │ │
│  ┌──────────┬──────────┬──────────┬──────────┐          │ │
│  │ 📈 10%   │ 👥  5    │ 🌿  3    │ 💰 2.5   │          │ │
│  └──────────┴──────────┴──────────┴──────────┘          │ │
│                                                           │ │
│  点击 "Create Derivative" ───────────────────────────────┘ │
│                              │                             │
└──────────────────────────────┼─────────────────────────────┘
                               ▼
```

---

### 流程 3：创建衍生作品页面

```
┌─────────────────────────────────────────────────────────────┐
│  CREATE DERIVATIVE - /create/derivative?parentId=xxx        │
├─────────────────────────────────────────────────────────────┤
│  ← Back to Parent IP                                        │
│                                                             │
│  🌿 Create Derivative Work                                  │
│  Register a new IP based on an existing work                │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 🟣 Creating derivative of:                            │ │
│  │                                                       │ │
│  │  ┌─────┐                                              │ │
│  │  │     │  AI Portrait                                 │ │
│  │  │[图] │  by Alice Chen                               │ │
│  │  │     │  💰 10% revenue share to original creator    │ │
│  │  └─────┘                                              │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  Derivative Artwork                                         │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄ │ │
│  │ ┆                                                   ┆ │ │
│  │ ┆              📤                                   ┆ │ │
│  │ ┆    Click to upload your derivative work          ┆ │ │
│  │ ┆                                                   ┆ │ │
│  │ ┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄┄ │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  Title                                                      │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ Your derivative work title                            │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  Description                                                │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ Describe how your work builds upon the original...   │ │
│  │                                                       │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ ✓ Attribution Required                                │ │
│  │   Your derivative work will be linked to the          │ │
│  │   original IP on-chain. Revenue sharing will be       │ │
│  │   automatically enforced via Story Protocol.          │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │          🌿 Register Derivative Work                   │ │
│  └───────────────────────────────────────────────────────┘ │
│                              │                              │
│                              │ 点击提交                      │
│                              ▼                              │
└─────────────────────────────────────────────────────────────┘
```

---

### 流程 4：提交中状态

```
┌─────────────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────────────┐ │
│  │          🔄 Registering Derivative...                 │ │
│  │          (按钮显示加载动画)                            │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  后台操作：                                                 │
│  1. ✓ 验证父 IP 许可证类型                                  │
│  2. ✓ 调用 Story Protocol SDK                              │
│  3. ⏳ 等待链上交易确认...                                  │
│  4. ✓ 保存衍生关系到数据库                                  │
└─────────────────────────────────────────────────────────────┘
```

---

### 流程 5A：链上注册成功

```
┌─────────────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 🎉 SUCCESS (绿色背景)                                  │ │
│  │ Derivative registered on Story Protocol!              │ │
│  │ Transaction confirmed.                                │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  控制台输出：                                               │
│  ✅ Transaction Hash: 0x1a2b3c4d5e6f...                    │
│  🔗 View on Explorer: https://aeneid.storyscan.xyz/tx/...  │
│                                                             │
│  → 自动跳转到衍生 IP 详情页                                 │
└─────────────────────────────────────────────────────────────┘
```

---

### 流程 5B：本地保存（未配置 Story Protocol）

```
┌─────────────────────────────────────────────────────────────┐
│  ┌───────────────────────────────────────────────────────┐ │
│  │ ✅ INFO (黄色背景)                                     │ │
│  │ Derivative saved locally.                             │ │
│  │ Configure Story Protocol for on-chain registration.   │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  → 自动跳转到衍生 IP 详情页                                 │
└─────────────────────────────────────────────────────────────┘
```

---

## 二、收益信息展示 - 完整卡片

### 版本 A：链上数据（已注册 Story Protocol）

```
┌─────────────────────────────────────────────────────────────┐
│  💰 Royalty Information              [ ✓ On-Chain Data ]    │
│                                        (绿色图标+文字)       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │ 📈 Revenue   │  │ 👥 Licenses  │  │ 🌿 Derivatives│     │
│  │    Share     │  │    Sold      │  │              │     │
│  │              │  │              │  │              │     │
│  │     10%      │  │      5       │  │      3       │     │
│  └──────────────┘  └──────────────┘  └──────────────┘     │
│                                                             │
│  ┌──────────────┐                                          │
│  │ 💰 Total     │  (蓝紫色高亮)                             │
│  │    Earned    │                                          │
│  │              │                                          │
│  │  2.5 WIP     │                                          │
│  └──────────────┘                                          │
│                                                             │
│  ─────────────────────────────────────────────────────────│
│                                                             │
│  Revenue Breakdown                                          │
│  Direct Licenses ........................... 5              │
│  Derivative Royalties ..................... 0.5000 WIP     │
│                                              (蓝紫色)       │
│                                                             │
│  🔗 Royalties from derivative works are automatically      │
│     distributed via Story Protocol                         │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  🌿 Derivative Works (3)                                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ Derivative #1                                  🔗     │ │
│  │ 0x1a2b3c4d...5e6f7g                                   │ │
│  │ Registered: 12/1/2024                                 │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ Derivative #2                                  🔗     │ │
│  │ 0x8h9i0j1k...2l3m4n                                   │ │
│  │ Registered: 11/28/2024                                │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ Derivative #3                                  🔗     │ │
│  │ 0x5o6p7q8r...9s0t1u                                   │ │
│  │ Registered: 11/25/2024                                │ │
│  └───────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

---

### 版本 B：本地数据（未链上注册）

```
┌─────────────────────────────────────────────────────────────┐
│  💰 Royalty Information            ⚠️ Local Estimate        │
│                                      (黄色图标+文字)         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │ 📈 Revenue   │  │ 👥 Licenses  │  │ 🌿 Derivatives│     │
│  │    Share     │  │    Sold      │  │              │     │
│  │              │  │              │  │              │     │
│  │     10%      │  │      0       │  │      0       │     │
│  └──────────────┘  └──────────────┘  └──────────────┘     │
│                                                             │
│  ┌──────────────┐                                          │
│  │ 💰 Total     │                                          │
│  │    Earned    │                                          │
│  │              │                                          │
│  │   0 WIP      │                                          │
│  └──────────────┘                                          │
│                                                             │
│  (无收益分解面板 - 因为还没有实际交易)                       │
└─────────────────────────────────────────────────────────────┘
```

---

## 三、IP 卡片对比 - 链上 vs 本地

### 链上已注册的 IP

```
┌───────────────────────────────┐
│ ✓ ON-CHAIN      💎 REMIX      │ ← 左上角绿色徽章
│                               │
│                               │
│        [IP 作品图片]           │
│                               │
│                               │
├───────────────────────────────┤
│  AI Portrait                  │
│  Digital artwork...           │
│                               │
│  👤 Alice      0.1 WIP        │
│              +10% rev share   │
└───────────────────────────────┘
```

---

### 本地保存的 IP

```
┌───────────────────────────────┐
│              💎 COMMERCIAL    │ ← 只有许可证徽章
│                               │
│                               │
│        [IP 作品图片]           │
│                               │
│                               │
├───────────────────────────────┤
│  My Local Work                │
│  Saved locally...             │
│                               │
│  👤 Bob        0.2 WIP        │
└───────────────────────────────┘
```

---

## 四、颜色编码系统

### 状态颜色

```
🟢 Green (emerald-400)     → 链上数据、成功状态
   ✓ ON-CHAIN
   ✓ On-Chain Data
   ✓ Success Notification

🟡 Yellow (amber-400)      → 本地数据、警告状态
   ⚠️ Local Estimate
   ⚠️ Configure Story Protocol

🟣 Purple (purple-400)     → 衍生作品相关
   🌿 Create Derivative
   🌿 Derivative Works
   🌿 Parent IP Card

🔵 Blue (indigo-400)       → 收益金额、交互元素
   💰 Total Earned
   🔗 Transaction Link
   View Details

🔴 Red (red-400)           → 错误、不允许的操作
   ❌ Cannot Create Derivative
   ❌ License Type Not Allowed
```

---

### 背景颜色

```
深色系统 (Dark Mode)

bg-[#050505]           → 页面主背景（几乎纯黑）
bg-zinc-900/60         → 卡片背景（深灰 + 60% 透明度）
bg-zinc-800/50         → 输入框背景（中灰 + 50% 透明度）
bg-purple-500/10       → 紫色高亮区域（10% 透明度）
bg-indigo-500/10       → 蓝色渐变区域（10% 透明度）
```

---

## 五、图标使用规范

| 功能 | 图标 | Lucide React 组件 |
|------|------|-------------------|
| 收益信息 | 💰 | `<Coins />` |
| 收益增长 | 📈 | `<TrendingUp />` |
| 许可证数量 | 👥 | `<Users />` |
| 衍生作品 | 🌿 | `<GitBranch />` |
| 链上状态 | ✓ | `<CheckCircle />` |
| 本地状态 | ⚠️ | `<AlertCircle />` |
| 外部链接 | 🔗 | `<ExternalLink />` |
| 加载中 | 🔄 | `<Loader2 className="animate-spin" />` |
| 上传文件 | 📤 | `<Upload />` |
| 返回按钮 | ← | `<ArrowLeft />` |

---

## 六、响应式断点

```css
/* 移动端 */
@media (max-width: 640px) {
  grid-cols-1          /* 单列布局 */
  text-sm              /* 较小字体 */
  px-4                 /* 较小内边距 */
}

/* 平板 */
@media (min-width: 641px) and (max-width: 1024px) {
  grid-cols-2          /* 2列布局 */
  text-base            /* 标准字体 */
  px-6                 /* 中等内边距 */
}

/* 桌面 */
@media (min-width: 1025px) {
  grid-cols-3          /* 3列布局（市场浏览页）*/
  grid-cols-2          /* 2列布局（收益卡片）*/
  text-lg              /* 较大字体 */
  px-8                 /* 较大内边距 */
}
```

---

## 七、动画效果

### 卡片悬停

```css
transition-all duration-500
hover:border-indigo-500/30
hover:shadow-[0_0_30px_-10px_rgba(99,102,241,0.3)]
hover:-translate-y-2
```

**效果：**
- 边框颜色变为蓝紫色
- 出现发光阴影
- 向上移动 2px

---

### 按钮悬停

```css
bg-purple-600
hover:bg-purple-500
transition-colors
```

**效果：**
- 背景颜色变亮

---

### 加载动画

```css
animate-spin            /* 旋转动画 */
animate-pulse           /* 呼吸动画 */
```

---

## 八、字体层级

```css
text-3xl font-bold      /* 页面主标题 */
text-2xl font-bold      /* 卡片数据 */
text-lg font-semibold   /* 组件标题 */
text-base               /* 正文 */
text-sm                 /* 辅助信息 */
text-xs                 /* 小标签 */
text-[10px]             /* 徽章 */
```

---

## 九、间距系统

```css
gap-2   (0.5rem = 8px)     /* 小间距 */
gap-4   (1rem = 16px)      /* 中间距 */
gap-6   (1.5rem = 24px)    /* 大间距 */

p-3     (0.75rem = 12px)   /* 小内边距 */
p-4     (1rem = 16px)      /* 中内边距 */
p-5     (1.25rem = 20px)   /* 大内边距 */

mb-2    (0.5rem = 8px)     /* 小下边距 */
mb-4    (1rem = 16px)      /* 中下边距 */
mb-8    (2rem = 32px)      /* 大下边距 */
```

---

## 十、完整用户旅程地图

```
用户旅程：从浏览 → 创建衍生作品 → 查看收益

[1] 市场浏览页 (/explore)
    │
    ├─ 看到带 "✓ ON-CHAIN" 徽章的 IP 卡片
    ├─ 看到 "+10% rev share" 标签
    └─ 点击 IP 卡片
        │
        ▼
[2] IP 详情页 (/ip/:id)
    │
    ├─ 看到大图预览
    ├─ 看到 "💎 Commercial Remix" 许可证
    ├─ 看到 "✓ Allows derivatives" 提示
    ├─ 看到收益信息卡片
    │   ├─ 标识：[ ✓ On-Chain Data ]（绿色）
    │   ├─ 4个指标：收益分成、许可证、衍生作品、总收益
    │   └─ 衍生作品列表（每个带交易哈希链接）
    └─ 点击 "🌿 Create Derivative"
        │
        ▼
[3] 创建衍生作品页 (/create/derivative?parentId=xxx)
    │
    ├─ 看到紫色父 IP 信息卡片
    ├─ 上传衍生作品图片
    ├─ 填写标题和描述
    ├─ 看到 "✓ Attribution Required" 提示
    └─ 点击 "🌿 Register Derivative Work"
        │
        ├─ 按钮变为 "🔄 Registering Derivative..."
        ├─ 后台调用 Story Protocol SDK
        └─ 等待 2-5 秒
            │
            ▼
[4A] 链上注册成功
     │
     ├─ 绿色通知：🎉 Derivative registered on Story Protocol!
     ├─ 控制台输出交易哈希
     └─ 自动跳转到衍生 IP 详情页
         │
         └─ 新 IP 卡片显示 "✓ ON-CHAIN" 徽章

[4B] 本地保存（降级方案）
     │
     ├─ 黄色通知：✅ Derivative saved locally
     ├─ 提示：Configure Story Protocol for on-chain registration
     └─ 自动跳转到衍生 IP 详情页
         │
         └─ 新 IP 卡片不显示 "ON-CHAIN" 徽章
```

---

## 总结

### ✅ 视觉设计统一性

- 🎨 **颜色语言**：绿色=链上、黄色=本地、紫色=衍生、蓝色=收益
- 🖼️ **卡片系统**：统一圆角（rounded-xl/3xl）+ 半透明背景 + 边框
- 📱 **响应式**：移动端单列 → 平板2列 → 桌面3列
- ⚡ **动画**：统一过渡时间（300-500ms）

### ✅ 用户体验核心

- 🔍 **状态透明**：清晰标识数据来源（链上 vs 本地）
- 🔗 **可追溯性**：所有交易都有区块链浏览器链接
- 📊 **数据分解**：收益细分到直接许可和衍生分成
- ✨ **即时反馈**：加载动画 + 差异化通知

### ✅ 技术实现亮点

- 🎯 **降级策略**：链上查询失败自动使用本地数据
- 🚀 **性能优化**：图片懒加载 + 组件按需渲染
- 🛡️ **错误处理**：优雅降级，不影响核心功能
- 📦 **代码复用**：统一的卡片组件 + 样式系统
